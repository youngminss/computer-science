## 가상화(Virtualization)

### Contents

+ **가상화**
+ **가상머신**
+ **컨테이너**
+ **도커(Docker)**
+ **클라우드와 가상화 기술**

---

![](https://cloud.kt.com/guide/images/1568942758055.png)

### 가상화

+ 컴퓨터 시스템에서 물리 리소스(**서버**,**네트워크**,**저장소** 등)를 추상화하는 것

> 운영체제(OS)도 가상화 기술 중 하나이다.

+ 커널에 의해 하드웨어가 추상화
+ 기억 장치나 네트워크를 통한 데이터 교환이 하드웨어를 의식하지 않고 이뤄진다.
+ OS가 있기에, 하나의 컴퓨터 내에서 동시에 다수의 프로그램이 움직이고 있는 것이다.
+ OS가 없다면, 하나의 프로그램 오류가 컴퓨터 전체를 정지시킬 수 있다.
+ OS가, `가상 메모리`를 사용해, 프로세스 및 OS커널의 메모리 공간을 분리하기 때문에, 시스템 오류 시에도 크게 영향을 받지 않는다.

> 컴퓨터에서 `가상(Virtual)` = **물리적으로 존재하지 않지만, 실제로 존재하는 것**

---

### 가상 머신

+ `호스트 OS형`
	
	- 윈도우즈,리눅스 등의 호스트 OS상에 **가상화 소프트웨어를 설치해서 이용하는 것**
	- VMware Server, MS Virtual Server 등이 있다.
	- 소프트웨어를 [에뮬레이터](https://namu.wiki/w/%EC%97%90%EB%AE%AC%EB%A0%88%EC%9D%B4%ED%84%B0) 하는 것, 성능면에서 제한이 있다.
	
+ `하이퍼바이저형`

	- 하드웨어상에서 직접 가상화 소프트웨어를 실행하고, 그 위에 가상 머신을 동작시키는 기술
	- VMware vSphere, Hyper-V, Xen, KVM 등이 이에 속한다.
	- 호스트 OS를 거치지 않으므로, 호스트형보다 성능이 우수
	

> **하이퍼바이저형**에는 **완전가상화**와 **준가상화**가 있다.

+ `완전가상화` 

	- 물리 머신상에 동작하는 OS나 드라이버를 그대로 이용할 수 있는 장점이 있다.
	- 다만, 소프트웨어로 에뮬레이션하기 때문에, 성능이 저하된다.
	
+ `준가상화`

	- 실존 하드웨어 에뮬레이션이 아닌, **가상 환경용 가상 하드웨어**를 **소프트웨어적으로 에뮬레이션**한다.
	
---

### 컨테이너

> 도커(Docker)의 등장 이후, 컨테이너(Container)가 급속도로 유행하기 시작

+ `컨테이너`
	
	- **리소스**가 격리된 프로세스
	- 하나의 OS상에서 여러 개를 동시에 가동가능
	- 각 게스트OS가 커널 공간을 가지는 VM(가상머신)과 가장 큰 차이점은, 컨테이너는 하나의 커널을 **공유**한다.
	- **컨테이너 단위로 OS, 라이브러리, 애플리케이션을 패키징 할 수 있다.**
	- **컨테이너 기술을 통해, 하나의 OS 상에서, 여러 애플리케이션을 독립적으로 실행 시킬 수 있다.**
	

+ 컨테이너 이미지를 서비스 별 배포 단위로 만들어 사용 가능

	- 컨테이너 이미지는 불변
	- 배포와 RollBack이 용이
	- 리소스 사용의 효율성 증대
	
---

### 도커

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FtVpOt%2FbtqBZr94tsu%2FYJaK0dZF5KtOM23UXJTmuK%2Fimg.png)

> 컨테이너 기술 개발이 착실히 진행되면서, 2013년 **파일 시스템**과 **프로세스를 분리하는 기능**이 추가 됐다.

+ 파일 시스템 이미지의 패키징과 [버저닝](https://ko.wikipedia.org/wiki/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4_%EB%B2%84%EC%A0%84_%EC%9E%91%EC%84%B1)이 가능해지고, 컨테이너 이미지를 공유할 수 있는 `도커`가 등장하면서, 컨테이너 기술이 더욱 주목 받기 시작했다.

> **로컬**에서 실행되던 프로그램이, 클라우드에서는 실행되는 않는 문제가 발생한다 ?

+ 도커는, 애플리케이션 실행 환경을 **자동 구축** 해주는 `도커 이미지`라는 기술을 클라우드 이외의 환경에서도 사용할 수 있게 **오픈 소스**로 공개했다.
+ `도커 허브(Docker Hub)` 라는 도커 이미지를 공유할 수 있는 레지스트리가 생기며, 폭발적 인지도를 얻음

---

### 클라우드 가상화 기술

> 가상화 기술은 **구글**, **페이스북**, **아마존** 등의 대규모 웹 서비스에서 사용되고 있다.

+ AWS, GCP, Azure 등의 **클라우드 서비스**에서는 가상 머신 서비스, 컨테이너 서비스, Faas(Funtion as a service) 등의 서비스를 지탱하는 기술로 쓰인다.

![](https://www.aalpha.net/wp-content/uploads/2020/03/saas-paas-iaas-difference-1.png)




